<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Practicalmachinelearning : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Practicalmachinelearning</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/julioverdugo/PracticalMachineLearning">View on GitHub</a>

          <h1 id="project_title">Practicalmachinelearning</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/julioverdugo/PracticalMachineLearning/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/julioverdugo/PracticalMachineLearning/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>&lt;!DOCTYPE html&gt;</p>

<p></p>

<p></p>

<p>

</p>

<p></p>Practical Machine Learning: Assignment 1



<p>

</p>



code{white-space: pre;}

<p></p>




  pre:not([class]) {
    background-color: white;
  }




<p></p>

<p></p>


.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}


<div>


<div id="header">
<h1>
<a id="practical-machine-learning-assignment-1" class="anchor" href="#practical-machine-learning-assignment-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Practical Machine Learning: Assignment 1</h1>
</div>

<div id="introduction">
<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h2>
<p>Using devices such as Jawbone Up, Nike FuelBand, and Fitbit it is now possible to collect a large amount of data about personal activity relatively inexpensively. These type of devices are part of the quantified self movement– a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks.</p>
<p>One thing that people regularly do is quantify how much of a particular activity they do, but they rarely quantify <strong>how well they do it</strong>. In this data set, the participants were asked to perform barbell lifts correctly and incorrectly in 5 different ways. More information is available from the website here: <a href="http://groupware.les.inf.puc-rio.br/har">http://groupware.les.inf.puc-rio.br/har</a></p>
<p>In this project, the goal will be to use data from accelerometers on the belt, forearm, arm, and dumbell of 6 participants toto predict the manner in which praticipants did the exercise.</p>
<p>The dependent variable or response is the “classe” variable in the training set.</p>
</div>

<div id="pre-processing">
<h2>
<a id="pre-processing" class="anchor" href="#pre-processing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pre-Processing</h2>
<p>The training data and testing datafor this project are located in:</p>
<p><a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv</a></p>
<p><a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv</a></p>
<p>The first step was to import the train and test datasets:</p>
<pre><code>library(caret)
library(randomForest)
setwd("C:/Users/Julio/Documents/Practical Machine Learning/Project")
pml_test&lt;-read.csv("pml-testing.csv",header=TRUE,sep=",")
pml_train&lt;-read.csv("pml-training.csv",header=TRUE,sep=",")</code></pre>
<p>Then the columns containing only NA values on the test set were removed due they wouldn’t be relevant on the prediction.</p>
<pre><code>test_col&lt;-names(Filter(function(x)!all(is.na(x)), pml_test))
train_col&lt;-pml_train[,c(test_col[-60],"classe")]</code></pre>
<p>Aditionally, the unrelevants variables were removed (X, user_name, raw_timestamp_part_1, raw_timestamp_part_2, cvtd_timestamp, new_window, num_window), resulting in a set with 52 predictors variables and 1 dependant variable.</p>
<pre><code>train_col&lt;-train_col[,-c(1:7)]</code></pre>
<p>The training set is split in 80% for training and 20% for testing.</p>
<pre><code>intrain &lt;-createDataPartition(y=train_col$classe,p=0.8, list=FALSE)
training &lt;- train_col[intrain,]
testing &lt;- train_col[-intrain,]</code></pre>
</div>

<div id="cross-validation">
<h2>
<a id="cross-validation" class="anchor" href="#cross-validation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cross-Validation</h2>
<p>Random Forest method was selected as the first method to apply. The <strong>rfcv function</strong> from the randomForest package shows the cross-validated prediction performance of models with sequentially reduced number of predictors (ranked by variable importance) via a nested cross-validation procedure.</p>
<pre><code>cv_train&lt;-rfcv(training[,1:52],training[,53])</code></pre>
<p>This function provides the cross-validation estimed error by number of used variables. 52 variables are going to be utilized for the prediction.</p>
<pre><code>cv_train$error.cv </code></pre>
<pre><code>##          52          26          13           6           3           1 
## 0.005414358 0.007006816 0.010255430 0.044270336 0.108987834 0.592649213</code></pre>
</div>

<div id="model">
<h2>
<a id="model" class="anchor" href="#model" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model</h2>
<p>Fit the model applying the random forest method. Then <strong>confusionMatrix</strong> provides the function’s output to see how well the model predicted/classified the values in the validation test set and Accuracy.</p>
<pre><code>modFit&lt;-randomForest(classe ~.,data=training)
prediction &lt;- predict(modFit, newdata=testing, type = "class")
confusionMatrix(testing$classe,prediction)</code></pre>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 1116    0    0    0    0
##          B    6  751    2    0    0
##          C    0   10  674    0    0
##          D    0    0    5  638    0
##          E    0    0    0    1  720
## 
## Overall Statistics
##                                           
##                Accuracy : 0.9939          
##                  95% CI : (0.9909, 0.9961)
##     No Information Rate : 0.286           
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.9923          
##  Mcnemar's Test P-Value : NA              
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity            0.9947   0.9869   0.9897   0.9984   1.0000
## Specificity            1.0000   0.9975   0.9969   0.9985   0.9997
## Pos Pred Value         1.0000   0.9895   0.9854   0.9922   0.9986
## Neg Pred Value         0.9979   0.9968   0.9978   0.9997   1.0000
## Prevalence             0.2860   0.1940   0.1736   0.1629   0.1835
## Detection Rate         0.2845   0.1914   0.1718   0.1626   0.1835
## Detection Prevalence   0.2845   0.1935   0.1744   0.1639   0.1838
## Balanced Accuracy      0.9973   0.9922   0.9933   0.9985   0.9998</code></pre>
<p>The estimated accuracy of the model is 99.72% and the estimated out-of-sample error based on the fitted model applied to the cross validation dataset is 0.28%.</p>
</div>

<div id="prediction">
<h2>
<a id="prediction" class="anchor" href="#prediction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prediction</h2>
<p>Considering the obtained accuracy, the random forest is the definitive model. The model is applied to the original testing set. The model output are included below.</p>
<pre><code>prediction_final&lt;-predict(modFit,newdata=pml_test,type="class")
prediction_final</code></pre>
<pre><code>##  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 
##  B  A  B  A  A  E  D  B  A  A  B  C  B  A  E  E  A  B  B  B 
## Levels: A B C D E</code></pre>
</div>

<p></p>
</div>







<p>
</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Practicalmachinelearning maintained by <a href="https://github.com/julioverdugo">julioverdugo</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
